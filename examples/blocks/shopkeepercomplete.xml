<xml xmlns="https://developers.google.com/blockly/xml"><block type="villanellprog" id="^?TjMLN[OvF8!zbkKjKD" x="41" y="17"><statement name="initialization"><block type="setvariable" id="6+UmdBJ}t~Qz$cF/.Eo_"><field name="variableName">askedForSword</field><value name="variableValue"><block type="logic_boolean" id="~[;A6nFZ8*GSGO0jq5!-"><field name="BOOL">FALSE</field></block></value><next><block type="setvariable" id="rZW4,uG0)Ioh!c)4*w+p"><field name="variableName">gold</field><value name="variableValue"><block type="math_number" id="SoF[/]TRZdFP;n(CU3Ub"><field name="NUM">0</field></block></value><next><block type="setvariable" id="_QCgsuw:bkW3(hwp%W0k"><field name="variableName">grantSword</field><value name="variableValue"><block type="logic_boolean" id="E=D4N1woH9R1:.aLV:-L"><field name="BOOL">FALSE</field></block></value><next><block type="setvariable" id="0w1*efvpBZ+i+CXK+MM)"><field name="variableName">title</field><value name="variableValue"><block type="text" id="qAUr);kqp|n8vh?pCySy"><field name="TEXT">Shopkeeper example</field></block></value><next><block type="setvariable" id="*5I~,TF+?.**oj=?Q@NF"><field name="variableName">scene</field><value name="variableValue"><block type="text" id="4NM-`RQ*s71CRVD#F]|G"><field name="TEXT">With shopkeeper</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name="userInteraction"><block type="description" id="n[x@U8;EceR$,o2IHVnh"><value name="NAME"><block type="text" id="Wx%R}daKviq[;FKZMD;+"><field name="TEXT">The shopkeeper stands before you. You have $gold gold.</field></block></value><next><block type="condition" id="aOz96RZ,l#K|5Y={*0H0"><value name="antecedent"><block type="logic_compare" id="%+Qp}TM:HK8m}P7~#*-;"><field name="OP">EQ</field><value name="A"><block type="getvariable" id="H$7*|MeI#2BGL|-tv;V!"><field name="varName">grantSword</field></block></value><value name="B"><block type="logic_boolean" id="4KmizlTB[LzJDl@1ygYg"><field name="BOOL">FALSE</field></block></value></block></value><statement name="consequent"><block type="useraction" id="p~?[h-fw(`rqrg%Lpf[U"><value name="actionText"><block type="text" id="iNjpUaQYA!6{9.4A1//w"><field name="TEXT">Ask for sword</field></block></value><statement name="effects"><block type="effects" id="@Q)m2G(hvW^%-X`4S0yc"><statement name="substatementList"><block type="setvariable" id="n6g}bQFF:lj;J=F$b?k7"><field name="variableName">askedForSword</field><value name="variableValue"><block type="logic_boolean" id="IWk$mg]?GQ`8WJApR[|O"><field name="BOOL">TRUE</field></block></value></block></statement></block></statement></block></statement><next><block type="condition" id="4SWE]A-x]U$N7zwVw4Jr"><value name="antecedent"><block type="logic_compare" id="=Y^0_`/K658*P.xlQTu$"><field name="OP">EQ</field><value name="A"><block type="getvariable" id="P(aINmSH*-W98cPw|UGz"><field name="varName">grantSword</field></block></value><value name="B"><block type="logic_boolean" id="PJJh3(z|$x;i2$~Vx^$v"><field name="BOOL">FALSE</field></block></value></block></value><statement name="consequent"><block type="useraction" id="cekRUB.y@51#ipz-FxU?"><value name="actionText"><block type="text" id="~TKkHVlGnRZ;CiOy5{vF"><field name="TEXT">Earn Gold</field></block></value><statement name="effects"><block type="effects" id="~X/Mxb.ZV)8x.q`v)RW,"><statement name="substatementList"><block type="setvariable" id="8HLq(gAZp$Yv6|6*xg{Z"><field name="variableName">gold</field><value name="variableValue"><block type="math_arithmetic" id="~-z;EfCt+FW1-V[JpWpe"><field name="OP">ADD</field><value name="A"><block type="getvariable" id="cYk6o@zjVlw6;lOS+`9t"><field name="varName">gold</field></block></value><value name="B"><block type="math_number" id="]Zfh/;cczgM^/}$$Ic;B"><field name="NUM">50</field></block></value></block></value></block></statement></block></statement></block></statement></block></next></block></next></block></statement><next><block type="agent" id="fO=K-$2XBzEaO8BbFQkh"><field name="name">Shopkeeper</field><statement name="body"><block type="node" id="XM]f/myytAQ|`OH)6+4B"><field name="type">selector</field><statement name="body"><block type="condition" id="I[Nc4(QZppa7:1-47Q3^"><value name="antecedent"><block type="logic_operation" id="]*.YAWL5RGyTY*sAh-sc"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="l4RO,zVmABC!I67@B92}"><field name="OP">EQ</field><value name="A"><block type="getvariable" id="CH-{ec8utE:f~.x32arl"><field name="varName">askedForSword</field></block></value><value name="B"><block type="logic_boolean" id="D*Es%T9a:E|H7esDo}]y"><field name="BOOL">TRUE</field></block></value></block></value><value name="B"><block type="logic_compare" id="OKn|fz:d`egp!R0U+Kuv"><field name="OP">GTE</field><value name="A"><block type="getvariable" id="?a9WJAo4Jq@535):vU0C"><field name="varName">gold</field></block></value><value name="B"><block type="math_number" id="ksde))unPt#5,-8_6+c="><field name="NUM">50</field></block></value></block></value></block></value><statement name="consequent"><block type="effecttext" id="={b$~#f7i9[Fp*0bea!M"><value name="text"><block type="text" id="sVC3^^[vmHDqHqk[^elv"><field name="TEXT">The shopkeeper grants you the sword!</field></block></value><next><block type="effects" id="$T[(WSki*/ZO{i~@WZCc"><statement name="substatementList"><block type="setvariable" id="4tQ`rY}Xc{4Zi2OF6O:J"><field name="variableName">grantSword</field><value name="variableValue"><block type="logic_boolean" id="k2+@:cTdDdrK24)dGXQc"><field name="BOOL">TRUE</field></block></value></block></statement></block></next></block></statement><next><block type="condition" id="M!?rmF7~65%CF;o?(A1N"><value name="antecedent"><block type="logic_operation" id="MdP@;$[{rN]Q:#}U?EV/"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="8VsNXBSnd*n-xBuvJaC@"><field name="OP">EQ</field><value name="A"><block type="getvariable" id="z9j7o8JqbWP~c8L9r/dF"><field name="varName">askedForSword</field></block></value><value name="B"><block type="logic_boolean" id="4!MOJl+s={5*to_s}MXS"><field name="BOOL">TRUE</field></block></value></block></value><value name="B"><block type="logic_compare" id="xX+ku.fA(uUH^zz1lWTv"><field name="OP">LT</field><value name="A"><block type="getvariable" id="|ZKPUxdvCQ2)`D[mt[?p"><field name="varName">gold</field></block></value><value name="B"><block type="math_number" id="=o)#CN+lO0kN{G5_)U!g"><field name="NUM">50</field></block></value></block></value></block></value><statement name="consequent"><block type="effecttext" id="K!=nmemTk++i[dU+71bV"><value name="text"><block type="text" id="[V7z/oHzg3m)oEIVJNYi"><field name="TEXT">You dont have enouhg gold. You need 50 gold.</field></block></value><next><block type="effects" id="nBg1iatdm8DEyztaZrFi"><statement name="substatementList"><block type="setvariable" id="*sE?;)A(3h3:`DNJ-pAE"><field name="variableName">askedForSword</field><value name="variableValue"><block type="logic_boolean" id="cV}upXH5(BKOZ_KE$6)7"><field name="BOOL">FALSE</field></block></value></block></statement></block></next></block></statement></block></next></block></statement></block></statement></block></next></block></xml>